* -------------------------------------------------------------------
* ПРОГРАММА МОДЕЛИРОВАНИЯ РАБОТЫ ВНУТРИЗАВОДСКОГО ТРАНСПОРТА
* (СОСТАВЛЕНО ПО ТЗ №123-2024 ОТ 15.05.2024)
* -------------------------------------------------------------------
*
* 1. БЛОК ОПРЕДЕЛЕНИЯ ПЕРЕМЕННЫХ
*
Kont1    BVARIABLE (Q$RemQ<5)       * Проверка заполненности очереди
provrem1 BVARIABLE (F$Rem1)         * Статус грузовика 1 (0-свободен)
provrem2 BVARIABLE (F$Rem2)         * Статус грузовика 2 (0-свободен)
*
* 2. БЛОК ГЕНЕРАЦИИ ЗАЯВОК
*
GENERATE 5,4                       * Интервал поступления: 1-9 мин
*
* 3. БЛОК ПРОВЕРКИ ОЧЕРЕДИ
*
TEST E   BV$Kont1,1,metdel         * Если очередь ≥5 → отказ
QUEUE    RemQ                      * Постановка в очередь
TRANSFER .500,metrem2,metrem1      * Вероятность выбора 50/50
*
* 4. БЛОК ОБРАБОТКИ ГРУЗОВИКОМ 1
*
metrem1 ADVANCE 1                  * Сеанс связи (1 мин)
TEST E  BV$provrem1,0,metrem2      * Проверка занятости
SEIZE   Rem1                       * Захват грузовика 1
DEPART  RemQ                       * Выход из очереди
ADVANCE 12,8                       * Время перевозки: 4-20 мин
RELEASE Rem1                       * Освобождение
SAVEVALUE Serviced+,1              * Учет обслуженных
TERMINATE                          * Выход
*
* 5. БЛОК ОБРАБОТКИ ГРУЗОВИКОМ 2
*
metrem2 ADVANCE 1                  * Сеанс связи (1 мин)
TEST E  BV$provrem2,0,metrem1      * Проверка занятости
SEIZE   Rem2                       * Захват грузовика 2
DEPART  RemQ                       * Выход из очереди
ADVANCE 12,8                       * Время перевозки: 4-20 мин
RELEASE Rem2                       * Освобождение
SAVEVALUE Serviced+,1              * Учет обслуженных
TERMINATE                          * Выход
*
* 6. БЛОК ОТКАЗА
*
metdel  SAVEVALUE Rejected+,1      * Учет отказов
TERMINATE                          * Выход
*
* 7. БЛОК УПРАВЛЕНИЯ МОДЕЛИРОВАНИЕМ
*
GENERATE 600                       * Время моделирования: 600 мин
TERMINATE 1                        * Окончание
*
* 8. БЛОК СБОРА СТАТИСТИКИ
*
START    20                        * 20 прогонов по 600 мин
*
* -------------------------------------------------------------------
* ПАРАМЕТРЫ МОДЕЛИ:
*   - Входной поток: 5±4 мин (1-9 мин)
*   - Время обработки: 12±8 мин (4-20 мин)
*   - Макс. очередь: 5 заявок
*   - Время связи: 1 мин
* -------------------------------------------------------------------
